@page
@model Learn_Academy.Pages.Courses.DetailsModel
@using Microsoft.EntityFrameworkCore;
@using Learn_Academy.Models;
@section styles {
    <link href="@Url.Content("~/css/site.css")" rel="stylesheet" type="text/css" />
}
@{
    ViewData["Title"] = "Details";
}

<div class="custom-cart-button"><a style="padding:10px;text-decoration:none;position:relative;top:10px;bottom:10px;" class="Add-to-Cart" asp-area="" asp-page="./Index"><span>Back to List</span></a></div>

<div style="background-color: #1E1E1C;min-height: 40vh;padding: 6%;">
    <div>

        <h1 style="color: white;">@Html.DisplayFor(model => model.Course.Name)</h1>


        <p><span style="color: white;">Last updated: @Html.DisplayFor(model => model.Course.CourseDate)</span></p>
            <p><span style="color: white;">@Html.DisplayFor(model => model.Course.Author)</span></p>
    </div>
    <div style="background-color:white;position:absolute;width:420px;left:55%;top:20%;border: 1px solid black;text-align:center;padding-top:1%;">
        <img src="https://st.depositphotos.com/1364311/1336/i/950/depositphotos_13360079-stock-photo-girl-studying-in-library.jpg" style="width:400px;height:auto;" alt="Alternate Text" />
        <div style="padding:5%">
        </div>
        <div style="text-align:center;">
            @{bool NotAMember = false;
                @foreach (var item in (DbSet<Membership>)ViewData["Membership"])
                {
                    @if (item.ApplicationUser == this.User.Identity)
                    {
                        <div class="custom-cart-button"><a style="padding:10px;text-decoration:none;" class="Add-to-Cart" asp-area="" asp-page=""><span>Start Course</span></a></div>
                        break;
                    }
                    else
                    {
                        NotAMember = true;

                    }
                }
                @if (NotAMember)
                {
                    <div class="custom-cart-button"><a style="padding:10px;text-decoration:none;" class="Add-to-Cart" asp-area="" asp-page="/Purchase/Create"><span>Sign Up Now</span></a></div>

                }
            }

        </div>
    </div>

</div>
<section>
    <div style="width:30vw;margin-left:10px;">
        <h2>Description</h2>
        <h6>
            @Html.DisplayFor(model => model.Course.Description)
        </h6>
    </div>
</section>
<section>
    <div>
        <h2>Ratings & Reviews</h2>
        @*@foreach (var item in Ratings)
            {

            }
        *@

    </div>
</section>